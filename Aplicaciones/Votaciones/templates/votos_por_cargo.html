{% extends "plantilla.html" %}

{% block body %}
<div class="container mt-5">
    <h2 class="text-center mb-4">Reporte de Votos por Cargo</h2>
    <div class="row">
        <div class="col-md-8 offset-md-2">
            <div class="list-group">
                {% for item in votos_por_cargo %}
                    <!-- Evitar que se repita el cargo de presidente -->
                    {% if item.cargo.nombre != "Presidente" or forloop.first %}
                        <div class="list-group-item shadow-sm rounded mb-3">
                            <h4 class="text-center text-primary">{{ item.cargo.nombre }}</h4> <!-- Nombre del cargo -->
                            <table class="table table-striped table-bordered">
                                <thead>
                                    <tr>
                                        <th>Candidato</th>
                                        <th>NÃºmero de Votos</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for candidato_voto in item.candidatos %}
                                        <tr>
                                            <td>{{ candidato_voto.candidato.nombre }} {{ candidato_voto.candidato.apellido }}</td>
                                            <td>{{ candidato_voto.num_votos }}</td>
                                        </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
